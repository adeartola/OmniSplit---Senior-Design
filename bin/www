#!/usr/bin/env node
var debug = require('debug')('orderly-comms');
var fs    = require('fs');
var app   = require('../app');
var https = require('https');
var http  = require('http');

var options = {
    key: fs.readFileSync(__dirname + '/../certs/orderly.key'),
    cert: fs.readFileSync(__dirname + '/../certs/orderly.crt')
};

var server = http.createServer(app);

var io = require('socket.io')(server).listen(4000);

var chat = require('../models/chat')(io);

server.listen(3000, function() {
  debug('Express server listening on port ' + server.address().port);
});
